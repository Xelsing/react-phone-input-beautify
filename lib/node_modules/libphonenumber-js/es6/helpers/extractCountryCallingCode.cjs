"use client";"use strict";const _=require("./stripIddPrefix.cjs"),C=require("./extractCountryCallingCodeFromInternationalNumberWithoutPlusSign.cjs"),N=require("../metadata.cjs"),I=require("../constants.cjs");function M(r,n,s,e){if(!r)return{};var o;if(r[0]!=="+"){var t=_(r,n,s,e);if(t&&t!==r)o=!0,r="+"+t;else{if(n||s){var u=C(r,n,s,e),c=u.countryCallingCode,f=u.number;if(c)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:c,number:f}}return{number:r}}}if(r[1]==="0")return{};e=new N.default(e);for(var i=2;i-1<=I.MAX_LENGTH_COUNTRY_CODE&&i<=r.length;){var l=r.slice(1,i);if(e.hasCallingCode(l))return e.selectNumberingPlan(l),{countryCallingCodeSource:o?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:l,number:r.slice(i)};i++}return{}}module.exports=M;
