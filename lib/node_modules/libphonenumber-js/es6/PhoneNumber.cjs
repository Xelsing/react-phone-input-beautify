"use client";"use strict";const s=require("./metadata.cjs"),c=require("./isPossible.cjs"),y=require("./isValid.cjs"),h=require("./helpers/getNumberType.cjs"),g=require("./helpers/getPossibleCountriesForNumber.cjs"),b=require("./format.cjs");function i(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,r)}return e}function u(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?i(Object(e),!0).forEach(function(r){d(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function d(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function v(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function o(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function m(n,t,e){return t&&o(n.prototype,t),e&&o(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}var C=function(){function n(t,e,r){if(v(this,n),!t)throw new TypeError("`country` or `countryCallingCode` not passed");if(!e)throw new TypeError("`nationalNumber` not passed");if(!r)throw new TypeError("`metadata` not passed");var a=w(t,r),l=a.country,f=a.countryCallingCode;this.country=l,this.countryCallingCode=f,this.nationalNumber=e,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return m(n,[{key:"setExt",value:function(e){this.ext=e}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:g(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return c.default(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return y(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var e=new s.default(this.getMetadata());return e.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(e){return this.number===e.number&&this.ext===e.ext}},{key:"getType",value:function(){return h.default(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(e,r){return b.default(this,e,r?u(u({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(e){return this.format("NATIONAL",e)}},{key:"formatInternational",value:function(e){return this.format("INTERNATIONAL",e)}},{key:"getURI",value:function(e){return this.format("RFC3966",e)}}]),n}(),p=function(t){return/^[A-Z]{2}$/.test(t)};function w(n,t){var e,r,a=new s.default(t);return p(n)?(e=n,a.selectNumberingPlan(e),r=a.countryCallingCode()):r=n,{country:e,countryCallingCode:r}}module.exports=C;
