"use client";"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const m=require("../node_modules/react/jsx-runtime.cjs"),N=require("../node_modules/clsx/dist/clsx.cjs"),a=require("react"),x=require("../node_modules/react-hook-form/dist/index.esm.cjs"),C=require("./phone-input.module.scss.cjs"),P=require("./phone-input-provider.cjs"),I=a.forwardRef((n,u)=>{const{props:c,state:l}=P.usePhoneInput(),{className:p,...d}=n,f=a.useRef(null);a.useEffect(()=>{typeof u=="function"?u(f.current):u&&(u.current=f.current)},[u]);const g=(r,e,s)=>{const h=r.slice(0,s).replace(/\D/g,"").length;let t=0,i=0;for(let o=0;o<e.length&&(/\d/.test(e[o])&&i++,!(i>h));o++)t=o+1;return e.length>r.length&&e[s]===" "&&(t=Math.max(0,t-1)),t},b=r=>{var i;const e=r.target,s=e.selectionStart,h=e.value,t=l.handlePhoneNumberChange(e.value);if(t!==null&&(e.value=t,s!==null)){const o=g(h,t,s);e.setSelectionRange(o,o)}(i=n.onChange)==null||i.call(n,r)};return m.jsxRuntimeExports.jsx("input",{...d,...c.numberInputProps,className:N.clsx(c.numberInputProps.className,p),onChange:b,ref:f})});function R(n){const{field:{ref:u,...c},formState:l}=x.useController(n),{state:p}=P.usePhoneInput();return a.useEffect(()=>{l.isDirty||p.handlePhoneNumberChange("")},[l.isDirty]),m.jsxRuntimeExports.jsx(I,{...n,...c,ref:u})}function j(){return{numberInputProps:{className:C.default.phoneInputNumberInput,type:"tel"}}}exports.PhoneInputNumberInput=I;exports.default=R;exports.usePhoneInputNumberInput=j;
