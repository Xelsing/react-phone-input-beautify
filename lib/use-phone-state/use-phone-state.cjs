"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const d=require("react"),q=require("../node_modules/zod/lib/index.cjs"),T=require("../node_modules/libphonenumber-js/min/exports/isValidPhoneNumber.cjs"),Y=require("../node_modules/libphonenumber-js/min/exports/parsePhoneNumber.cjs"),l=require("../node_modules/libphonenumber-js/min/exports/AsYouType.cjs"),h=require("../node_modules/libphonenumber-js/min/exports/getCountryCallingCode.cjs"),V=require("../node_modules/iso-3166/1.cjs"),m=({invalid:e,required:n}={invalid:"Invalid phone number",required:"Phone number is required"})=>q.default.string({required_error:n}).refine(o=>{try{return T.isValidPhoneNumber(o)}catch{return!1}},e);function A(e){const n=Y.parsePhoneNumber(e);return n?n.country:""}function y(e,n){const o=new l.AsYouType(n);if(!e)return`+${h.getCountryCallingCode(n)}`;const s=o.input(e);return s||e}const $=({initialCountry:e="US",initialPhoneNumber:n=""}={})=>{const[o,s]=d.useState(e),f=h.getCountryCallingCode(e),[p,a]=d.useState(()=>y(n,e)),[C,c]=d.useState(()=>m().safeParse(n).success),g=()=>{a(`+${f}`),s(e),c(!1)},b=(t,r)=>new l.AsYouType(r).input(t.startsWith("+")?t:`+${t}`),P=t=>{const r=new l.AsYouType(o);r.input(t);const u=r.getNumber();if(a(t),u&&u.isValid()){c(!0);const i=u.country;i&&i!==o&&s(i)}else c(!1)},N=t=>{try{const r=h.getCountryCallingCode(t);a(`+${r}`),s(t),c(!1)}catch(r){console.error("Error fetching country calling code:",r),a(""),s(t)}},S=t=>{const r=t.trim();if(!r)return g(),"";const u=b(r,o);return P(u),u};return{country:o,countryList:V.iso31661,handleCountryChange:N,handlePhoneNumberChange:S,isValid:C,phoneNumber:p}};exports.formatPhoneNumber=y;exports.getCountryCode=A;exports.phoneValidationSchema=m;exports.usePhoneState=$;
